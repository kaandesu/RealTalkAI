import{x as j,Q as J,e as K,_ as y,A as N,E as Z,P as X,S as ee,a as se,G as te,b as ae,h as oe,c as ne,y as le,g as re}from"./DXIowTEh.js";import{m,o as i,q as v,w as t,z as g,A as F,B as G,u as a,c as _,p as C,C as k,D as B,a as d,b as o,d as h,t as f,F as T,x as A,s as ce,v as ie}from"./D0IQtwTZ.js";import M from"./F7E3GcmS.js";import{_ as ue}from"./BOT5cG47.js";import{_ as H}from"./XY_MbJm6.js";import{u as de}from"./DRDM3M25.js";import{u as pe}from"./sT4woIqR.js";import"./CWbun6GQ.js";import"./DlAUqK2U.js";const fe=m({__name:"Dialog",props:{open:{type:Boolean},defaultOpen:{type:Boolean},modal:{type:Boolean}},emits:["update:open"],setup(n,{emit:s}){const r=j(n,s);return(u,c)=>(i(),v(a(J),F(G(a(r))),{default:t(()=>[g(u.$slots,"default")]),_:3},16))}}),me=m({__name:"DialogTrigger",props:{asChild:{type:Boolean},as:{}},setup(n){const s=n;return(e,l)=>(i(),v(a(K),F(G(s)),{default:t(()=>[g(e.$slots,"default")]),_:3},16))}}),_e=m({__name:"DialogHeader",props:{class:{}},setup(n){const s=n;return(e,l)=>(i(),_("div",{class:C(("cn"in e?e.cn:a(y))("flex flex-col gap-y-1.5 text-center sm:text-left",s.class))},[g(e.$slots,"default")],2))}}),ge=m({__name:"DialogTitle",props:{asChild:{type:Boolean},as:{},class:{}},setup(n){const s=n,e=k(()=>{const{class:r,...u}=s;return u}),l=N(e);return(r,u)=>(i(),v(a(Z),B(a(l),{class:("cn"in r?r.cn:a(y))("text-lg font-semibold leading-none tracking-tight",s.class)}),{default:t(()=>[g(r.$slots,"default")]),_:3},16,["class"]))}}),he=m({__name:"DialogDescription",props:{asChild:{type:Boolean},as:{},class:{}},setup(n){const s=n,e=k(()=>{const{class:r,...u}=s;return u}),l=N(e);return(r,u)=>(i(),v(a(X),B(a(l),{class:("cn"in r?r.cn:a(y))("text-sm text-muted-foreground",s.class)}),{default:t(()=>[g(r.$slots,"default")]),_:3},16,["class"]))}});function ve(n,s){return i(),_("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[d("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M11.7816 4.03157C12.0062 3.80702 12.0062 3.44295 11.7816 3.2184C11.5571 2.99385 11.193 2.99385 10.9685 3.2184L7.50005 6.68682L4.03164 3.2184C3.80708 2.99385 3.44301 2.99385 3.21846 3.2184C2.99391 3.44295 2.99391 3.80702 3.21846 4.03157L6.68688 7.49999L3.21846 10.9684C2.99391 11.193 2.99391 11.557 3.21846 11.7816C3.44301 12.0061 3.80708 12.0061 4.03164 11.7816L7.50005 8.31316L10.9685 11.7816C11.193 12.0061 11.5571 12.0061 11.7816 11.7816C12.0062 11.557 12.0062 11.193 11.7816 10.9684L8.31322 7.49999L11.7816 4.03157Z",fill:"currentColor"})])}const ye=m({__name:"DialogContent",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(n,{emit:s}){const e=n,l=s,r=k(()=>{const{class:c,...b}=e;return b}),u=j(r,l);return(c,b)=>(i(),v(a(ae),null,{default:t(()=>[o(a(ee),{class:"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0"}),o(a(se),B(a(u),{class:("cn"in c?c.cn:a(y))("fixed left-1/2 top-1/2 z-50 grid w-full max-w-lg -translate-x-1/2 -translate-y-1/2 gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e.class)}),{default:t(()=>[g(c.$slots,"default"),o(a(te),{class:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground"},{default:t(()=>[o(a(ve),{class:"h-4 w-4"}),b[0]||(b[0]=d("span",{class:"sr-only"},"Close",-1))]),_:1})]),_:3},16,["class"])]),_:3}))}}),be=m({__name:"Tabs",props:{defaultValue:{},orientation:{},dir:{},activationMode:{},modelValue:{},asChild:{type:Boolean},as:{}},emits:["update:modelValue"],setup(n,{emit:s}){const r=j(n,s);return(u,c)=>(i(),v(a(oe),F(G(a(r))),{default:t(()=>[g(u.$slots,"default")]),_:3},16))}}),we=m({__name:"TabsTrigger",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(n){const s=n,e=k(()=>{const{class:r,...u}=s;return u}),l=N(e);return(r,u)=>(i(),v(a(ne),B(a(l),{class:("cn"in r?r.cn:a(y))("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",s.class)}),{default:t(()=>[g(r.$slots,"default")]),_:3},16,["class"]))}}),xe=m({__name:"TabsList",props:{loop:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(n){const s=n,e=k(()=>{const{class:l,...r}=s;return r});return(l,r)=>(i(),v(a(le),B(e.value,{class:("cn"in l?l.cn:a(y))("inline-flex h-7 items-center justify-center rounded-sm bg-muted p-1 text-muted-foreground",s.class)}),{default:t(()=>[g(l.$slots,"default")]),_:3},16,["class"]))}}),Ce=m({__name:"TabsContent",props:{value:{},forceMount:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(n){const s=n,e=k(()=>{const{class:l,...r}=s;return r});return(l,r)=>(i(),v(a(re),B({class:("cn"in l?l.cn:a(y))("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s.class)},e.value),{default:t(()=>[g(l.$slots,"default")]),_:3},16,["class"]))}}),$e=m({__name:"Card",props:{class:{}},setup(n){const s=n;return(e,l)=>(i(),_("div",{class:C(("cn"in e?e.cn:a(y))("rounded-xl border bg-card text-card-foreground shadow",s.class))},[g(e.$slots,"default")],2))}}),ke=m({__name:"CardHeader",props:{class:{}},setup(n){const s=n;return(e,l)=>(i(),_("div",{class:C(("cn"in e?e.cn:a(y))("flex flex-col gap-y-1.5 p-6",s.class))},[g(e.$slots,"default")],2))}}),Be=m({__name:"CardTitle",props:{class:{}},setup(n){const s=n;return(e,l)=>(i(),_("h3",{class:C(("cn"in e?e.cn:a(y))("font-semibold leading-none tracking-tight",s.class))},[g(e.$slots,"default")],2))}}),Te=m({__name:"CardDescription",props:{class:{}},setup(n){const s=n;return(e,l)=>(i(),_("p",{class:C(("cn"in e?e.cn:a(y))("text-sm text-muted-foreground",s.class))},[g(e.$slots,"default")],2))}}),Ae=m({__name:"CardContent",props:{class:{}},setup(n){const s=n;return(e,l)=>(i(),_("div",{class:C(("cn"in e?e.cn:a(y))("p-6 pt-0",s.class))},[g(e.$slots,"default")],2))}}),Pe=m({__name:"CardFooter",props:{class:{}},setup(n){const s=n;return(e,l)=>(i(),_("div",{class:C(("cn"in e?e.cn:a(y))("flex items-center p-6 pt-0",s.class))},[g(e.$slots,"default")],2))}}),Le={class:"grid gap-4 overflow-y-auto px-6 py-4"},De={class:"flex h-[300dvh] flex-col gap-y-5"},Se={key:0},je={key:1},Ne=m({__name:"convo-dialog",props:{disabled:{type:Boolean},gameId:{},gameTitle:{},desc:{},transcript:{}},setup(n){const s=n;return(e,l)=>{const r=M;return i(),v(a(fe),null,{default:t(()=>[o(a(me),{"as-child":""},{default:t(()=>[o(a(H),{disabled:s.disabled,variant:"outline",class:"flex items-center justify-center gap-x-3 rounded-sm"},{default:t(()=>[o(r,{name:"ph:chats-duotone",class:"h-6 w-6"})]),_:1},8,["disabled"])]),_:1}),o(a(ye),{class:"max-h-[90dvh] grid-rows-[auto_minmax(0,1fr)_auto] p-0 sm:max-w-[425px]"},{default:t(()=>[o(a(_e),{class:"p-6 pb-0"},{default:t(()=>[o(a(ge),null,{default:t(()=>[h("Conversation "+f(s.gameTitle??""),1)]),_:1}),o(a(he),null,{default:t(()=>[h(f(s.desc??"Transcript of the call."),1)]),_:1})]),_:1}),d("div",Le,[d("div",De,[(i(!0),_(T,null,A(s.transcript,(u,c)=>(i(),_("p",null,[c%2==0?(i(),_("span",Se," Waitress: ")):(i(),_("span",je," You: ")),h(" "+f(u),1)]))),256))])])]),_:1})]),_:1})}}}),Fe={class:"box-border h-full w-full p-6 pt-2"},Ge={class:"flex items-center justify-between"},Oe={class:"flex w-full flex-wrap justify-around gap-5 overscroll-y-auto overscroll-x-none"},We={class:"flex w-full flex-wrap justify-around gap-5 overscroll-y-auto overscroll-x-none"},Re={class:"ml-12 font-semibold"},Ve={class:"ml-12 list-disc pl-5 text-sm"},ze={class:"text-xs italic text-gray-600"},Ee={class:"flex items-center justify-center gap-x-3"},Ie={class:"flex w-full flex-wrap justify-around gap-5 overscroll-y-auto overscroll-x-none"},Me={class:"ml-12 flex justify-center"},He={key:0,class:"ml-12 mt-1 text-xs italic text-gray-600"},ss=m({__name:"dashboard",setup(n){const s=de(),e=pe(),{levels:l}=ce(s),r=async u=>{let c=await e.getResults(u);if(console.log("Result of level #",u+1," is:",c),c==null)return;l.value[u].transcript=c,c.length<=1&&(console.log("transcript was empty sending fake transcript"),c=["Good evening! Welcome to our restaurant. How can I help you today?","Um, yes. I want... food. What you have?","We have many options. We have a Caesar Salad for eight euros, Beef Burger for twelve euros, Chicken Curry for fourteen euros, and much more. What would you like?","Ah, I take... burger, please.","Okay, one Beef Burger. Would you like fries or salad with that?","Uh... fries. Yes, fries.","Perfect! Anything to drink? We have water, soda, coffee...","Water... and maybe... coffee? Small one?","Got it. One water and a small coffee. Anything else?","No, no more. Just that, please.","Alright! Your order is one Beef Burger with fries, water, and a small coffee. It will be ready soon. Thank you!","Thank you! Good, good."]),console.log("sending to openai");const b=await e.evaluateConversation(c);l.value[u].result=b.result,l.value[u].suggestions=b.suggestions};return(u,c)=>{const b=we,Y=xe,P=Be,O=Te,L=ke,W=M,R=ue,V=H,z=Pe,D=$e,S=Ce,Q=Ne,U=Ae,q=be;return i(),_("main",Fe,[c[5]||(c[5]=d("section",null,[d("div",{class:"text-3xl font-bold"},"Dashboard"),h(" Access your main levels and key metrics. ")],-1)),c[6]||(c[6]=d("br",null,null,-1)),o(q,{"default-value":"levels",class:"space-y-4"},{default:t(()=>[d("section",Ge,[o(Y,null,{default:t(()=>[o(b,{value:"levels"},{default:t(()=>c[0]||(c[0]=[h(" Levels ")])),_:1}),o(b,{value:"results"},{default:t(()=>c[1]||(c[1]=[h(" Results ")])),_:1}),o(b,{value:"suggestions"},{default:t(()=>c[2]||(c[2]=[h(" Suggestions ")])),_:1})]),_:1})]),o(S,{value:"levels"},{default:t(()=>[d("section",Oe,[(i(!0),_(T,null,A(a(l),(p,w)=>(i(),v(D,{class:"w-64 shadow-md transition-all hover:scale-[1.02] hover:shadow-xl"},{default:t(()=>[o(L,null,{default:t(()=>[o(P,null,{default:t(()=>[h("Level "+f(w+1)+" - "+f(p.name),1)]),_:2},1024),o(O,null,{default:t(()=>[h(f(p.desc),1)]),_:2},1024)]),_:2},1024),o(z,{class:"flex flex-col gap-y-5"},{default:t(()=>[d("section",null,"Objective: "+f(p.objective),1),o(V,{onClick:x=>a(s).startGame(w),disabled:w!=0,variant:"outline",class:"flex items-center justify-center gap-x-3 rounded-sm"},{default:t(()=>[o(W,{name:"material-symbols:play-arrow-rounded",class:"h-8 w-8"}),o(R,{class:"pointer-events-none pr-5"},{default:t(()=>c[3]||(c[3]=[h("Play")])),_:1})]),_:2},1032,["onClick","disabled"])]),_:2},1024)]),_:2},1024))),256))])]),_:1}),o(S,{value:"results"},{default:t(()=>[d("section",We,[(i(!0),_(T,null,A(a(l),(p,w)=>(i(),v(D,{class:"w-64 shadow-md transition-all hover:scale-[1.02] hover:shadow-xl",key:p.name},{default:t(()=>[o(L,null,{default:t(()=>[o(P,null,{default:t(()=>[h("Level "+f(w+1)+" - "+f(p.name)+" Result",1)]),_:2},1024)]),_:2},1024),o(O,null,{default:t(()=>{var x,$,E,I;return[d("p",Re," Overall Score: "+f(((x=p.result)==null?void 0:x.overallScore)??"N/A")+"/100 ",1),d("ul",Ve,[d("li",null," Flow: "+f((($=p.result)==null?void 0:$.flowScore)??"N/A")+"/100 ",1),d("li",null," Grammar: "+f(((E=p.result)==null?void 0:E.grammarScore)??"N/A")+"/100 ",1),d("li",null," Vocabulary: "+f(((I=p.result)==null?void 0:I.vocabScore)??"N/A")+"/100 ",1)])]}),_:2},1024),o(z,{class:"mt-5 flex flex-col gap-y-5"},{default:t(()=>{var x;return[d("section",ze," Feedback: "+f(((x=p.result)==null?void 0:x.feedback)??"N/A"),1),d("section",Ee,[o(Q,{disabled:w!=0,gameId:w,gameTitle:p.name,transcript:p.transcript??["N/A","N/A"]},null,8,["disabled","gameId","gameTitle","transcript"]),o(V,{disabled:w!=0,variant:"outline",class:"flex items-center justify-center gap-x-3 rounded-sm",onClick:$=>r(w)},{default:t(()=>[o(W,{name:"stash:search-results-duotone",class:"h-6 w-6"}),o(R,{class:"pointer-events-none w-5 text-wrap pr-5 text-center text-xs"},{default:t(()=>c[4]||(c[4]=[h(" Get Results! ")])),_:1})]),_:2},1032,["disabled","onClick"])])]}),_:2},1024)]),_:2},1024))),128))])]),_:1}),o(S,{value:"suggestions"},{default:t(()=>[d("section",Ie,[(i(!0),_(T,null,A(a(l),(p,w)=>(i(),v(D,{class:"w-64 shadow-md transition-all hover:scale-[1.02] hover:shadow-xl",key:p.name},{default:t(()=>[o(L,null,{default:t(()=>[o(P,null,{default:t(()=>[h("Level "+f(w+1)+" - "+f(p.name)+" Suggestion",1)]),_:2},1024)]),_:2},1024),o(U,null,{default:t(()=>{var x,$;return[d("p",Me," Tip: "+f(((x=p.suggestions)==null?void 0:x.tip)??"No suggestion available"),1),($=p.suggestions)!=null&&$.example?(i(),_("p",He," Example: "+f(p.suggestions.example),1)):ie("",!0)]}),_:2},1024)]),_:2},1024))),128))])]),_:1})]),_:1})])}}});export{ss as default};
